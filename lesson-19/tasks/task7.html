<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 7</title>
  </head>
  <body>
    <h1>Task 7</h1>
    <p>
      Задача 1. Відобразити падаючий сніг. Сніжинка з’являється у верхній
      частині екрану (top =0) і з випадковою швидкістю рухається вниз (у
      setInterval викликати метод, у якому додавати крок до top). Як тільки
      сніжинка досягає нижньої частини екрану (top>maxTop) вона знову повинна
      з’явитись у верхній частині екрану (top=0).
    </p>
    <style>
      body {
        background-color: black;
      }

      .snowflake {
        position: absolute;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        animation: fall linear infinite;
      }

      @keyframes fall {
        0% {
          top: 0;
          opacity: 1;
        }
        100% {
          top: 100%;
          opacity: 0;
        }
      }
    </style>
    <script>
      function createImage(numberImage) {
        for (let i = 0; i < numberImage; i++) {
          const image = document.createElement("img");
          image.src = "../tasks/img/SNOWFLAKE.svg";
          image.classList.add("snowflake");
          image.style.top = `${random(0, window.innerHeight)}px`;
          document.body.append(image);
        }
      }

      createImage(10);

      const snowflakes = document.querySelectorAll(".snowflake");
      const maxTop = window.innerHeight;

      function random(min, max) {
        return min + Math.floor(Math.random() * (max - min + 1));
      }

      function startSnowfall(snowflake) {
        snowflake.style.left = `${random(0, window.innerWidth - 15)}px`;

        snowflake.style.animationDuration = `${random(2, 6)}s`;
        snowflake.style.animationDelay = `${random(0, 3)}s`;
        snowflake.style.opacity = 1;

        setTimeout(() => {
          startSnowfall(snowflake);
        }, random(100, 1000));
      }

      snowflakes.forEach((snowflake) => {
        startSnowfall(snowflake);
      });
    </script>
  </body>
</html>
