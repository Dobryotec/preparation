<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 2</title>
  </head>
  <body>
    <h1>Task 2</h1>
    <p>
      Дано 5 елементів input. При введенні значення у якийсь із них необхідно
      автоматично заповнювати інші (усі попередні у спадному порядку(кожен
      попередній має значення на 1 менше за наступний), усі наступні на 1 більше
      (кожен наступне на 1 більше за попереднього)
    </p>
    <script>
      const updateInputValues = (clickIndex) => {
        const inputs = document.querySelectorAll(".input");

        for (let i = clickIndex + 1; i < inputs.length; i++) {
          const previousValue = parseInt(inputs[i - 1].value);
          inputs[i].value = isNaN(previousValue) ? "" : previousValue + 1;
        }

        for (let i = clickIndex - 1; i >= 0; i--) {
          const nextValue = parseInt(inputs[i + 1].value);
          inputs[i].value = isNaN(nextValue) ? "" : nextValue - 1;
        }
      };

      const input = (quantityInputs, text) => {
        for (let i = 0; i < quantityInputs; i++) {
          const div = document.createElement("div");

          const label = document.createElement("label");
          label.textContent = `${text} ${i + 1}`;

          const input = document.createElement("input");
          input.setAttribute("value", "");
          input.setAttribute("type", "number");
          input.classList.add("input");

          input.oninput = () => updateInputValues(i);

          label.append(input);
          div.append(label);

          document.body.append(div);
        }
      };

      input(5, "Value");
    </script>
  </body>
</html>
