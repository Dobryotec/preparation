<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 6</title>
  </head>
  <body>
    <h1>Task 6</h1>
    <p>
      Дано послідовність цін товарів та назв (у окремих масивах). Вивести на
      екран ті, які може собі дозволити користувач (кількість грошей задається).
    </p>
    <script>
      function getArrayPricesProducts(numberPrices) {
        let pricesProducts = [];
        for (let i = 0; i < numberPrices; i++) {
          const userPriceProduct = parseFloat(
            prompt("Введіть, будь ласка, ціну", 100)
          );
          pricesProducts.push(userPriceProduct);
        }

        return pricesProducts;
      }

      const arrayPricesProducts = getArrayPricesProducts(3);

      function getArrayNamesProducts(numberNames) {
        let namesProducts = [];

        for (let i = 0; i < numberNames; i++) {
          const nameProduct = prompt("Введіть, будь ласка, назву товару");
          namesProducts.push(nameProduct);
        }
        return namesProducts;
      }

      const arrayNamesProducts = getArrayNamesProducts(3);

      let userMoney = parseFloat(
        prompt("Введіть, будь ласка, скільки маєте грошей", 200)
      );

      function getMaxPrice(arrayPricesProducts) {
        let maxPrice = arrayPricesProducts[0];

        for (let i = 0; i < arrayPricesProducts.length; i++) {
          if (arrayPricesProducts[i] > maxPrice)
            maxPrice = arrayPricesProducts[i];
        }

        return maxPrice;
      }

      const maxPrice = getMaxPrice(arrayPricesProducts);

      function getNameProductMaxPrice(
        arrayPricesProducts,
        arrayNamesProducts,
        maxPrice
      ) {
        let nameProductMaxPrice = "";

        for (let i = 0; i < arrayPricesProducts.length; i++) {
          if (arrayPricesProducts[i] === maxPrice) {
            nameProductMaxPrice = arrayNamesProducts[i];
            break;
          }
        }
        return nameProductMaxPrice;
      }

      const nameProductMaxPrice = getNameProductMaxPrice(
        arrayPricesProducts,
        arrayNamesProducts,
        maxPrice
      );

      function getuserProducts(arrayPricesProducts, arrayNamesProducts) {
        let userProducts = [];
        for (let i = 0; i < arrayPricesProducts.length; i++) {
          if (arrayPricesProducts[i] <= userMoney) {
            userProducts.push(arrayNamesProducts[i]);
            userMoney -= arrayPricesProducts[i];
          }
        }
        return userProducts;
      }

      const arrayUserProducts = getuserProducts(
        arrayPricesProducts,
        arrayNamesProducts
      );

      document.write(
        `На цю суму можете купити собі ${arrayUserProducts} ${
          !userMoney
            ? `Ваша решта буде складати = ${userMoney} грн`
            : `або один товар ${nameProductMaxPrice}. Ваша решта буде складати = ${userMoney}грн`
        }`
      );
    </script>
  </body>
</html>
